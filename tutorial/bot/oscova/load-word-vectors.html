<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Loading Word Vectors  - Syn Developer Network</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Loading Word Vectors ">
    <meta name="generator" content="docfx 2.10.2.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta property="docfx:rel" content="../../../">
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-39941606-1', 'auto');
    ga('send', 'pageview');
  
  </script>
  
  <script>
    ((window.gitter = {}).chat = {}).options = {
      room: 'SynCommunity/Lobby'
    };
  </script>
  <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>
  <script type="text/javascript">
  document.addEventListener('gitter-sidecar-instance-started', function(e) {
    var chat = e.detail.chat;
    chat.options.activationElement.forEach(function(activationElement) {
      activationElement.innerHTML = 'Developer Lobby'
    });
  });
  </script>
  
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper" style="z-index:1">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
              <h1 id="loading-word-vectors">Loading Word Vectors</h1>
              
<p>Apart from connecting Oscova to a lexical database (like WordNet via <code>Syn.WordNet</code>) for improving word relatedness measurement, the <code>Language</code> property of <code>OscovaBot</code> also allows loading of Word embeddings generated by <strong><em>Word2Vec</em></strong> model. You can either connect <em>WordNet</em> or load <em>word vectors</em> from pre-trained data files.</p>
<h2 id="training-corpus">Training Corpus</h2>
<p>Selecting the right training corpus is crucial for generating word vectors that closely capture the linguistic context of words. The corpus should mainly contain sentences that relate to the domain addressed by the Bot. For example, if your bot deals with <em>pizza ordering</em> then you are better off training <em>word vectors</em> based on previous chat logs generated by real customers. It is also important to note that larger corpus tend to yield better word vectors.</p>
<h2 id="syn-bot-studio">Syn Bot Studio</h2>
<p>Especially for usage in Oscova, we have added the <strong>Word Vector Builder</strong> tool in <em>Syn Bot Studio</em>. The tool does offer a plethora of options to tweak the training process used in <em>Word2Vec</em> model.</p>
<p>To continue with this tutorial you&#39;ll need to install <em>Syn Bot Studio</em>. To download <em>Syn Bot Studio</em> <a href="http://www.simlbot.com/downloads/installer.zip">click here</a>, extract the <em>setup</em> file and follow the instructions in the installation wizard.</p>
<h3 id="building-word-vectors">Building word vectors</h3>
<p>First and foremost we&#39;ll need a corpus of text to generate word vectors. The file must be a text file with all words/tokens separated by space character. The larger the corpus the better will be the word vector representation.</p>
<p>To follow up with this tutorial you may download an example corpus <a href="resources/corpus.zip">here</a></p>
<ul>
<li>Extract the <em>corpus.zip</em> file</li>
<li>Run <strong>Syn Bot Studio</strong></li>
<li>Click on <strong>Tools</strong> and select <strong>Word Vector Builder</strong></li>
<li>Click on <strong>Browse Corpus...</strong> button and select the extracted <code>corpus.txt</code> file.</li>
<li>Now click on the <strong>Output File</strong> button and name the file <code>output.bin</code></li>
<li>Finally click on the <strong>Build Vectors</strong> button.</li>
</ul>
<p><img src="images/word-vector-builder.png" alt="Word2vec Oscova"></p>
<p>It should take a couple of seconds to build the vectors. Once completed <em>Syn Bot Studio</em> will open the parent folder of the selected output file.</p>
<h3 id="testing-built-word-vectors">Testing built word vectors</h3>
<ul>
<li>In the <strong>Word Vector Builder</strong> window select the <strong>Test</strong> tab.</li>
<li>Click on <strong>Load Vectors...</strong> and select the <code>output.bin</code> file.</li>
<li>Once loaded, type <strong><em>king</em></strong> in the <em>search box</em> and press <strong>Find closest</strong>.</li>
</ul>
<p><img src="images/word-vector-test.png" alt="Word2vec Syn Bot Studio"></p>
<p>You&#39;ll notice that words sharing the same context are placed close to each other in the vector space.</p>
<h2 id="loading-word-vectors-into-oscova">Loading word vectors into Oscova</h2>
<p>Once word vectors have been generated in either <em>bin</em> or <em>txt</em> file format. It is relatively easy to load them into Oscova. In the code below we call the <code>LoadWordVectors</code> method on the <code>Language</code> property and pass in the vector data file as a <code>FileStream</code>.</p>
<pre><code class="lang-csharp">var bot = new OscovaBot();
var fileStream = new FileStream(@&quot;D:\output.bin&quot;, FileMode.Open);
bot.Language.LoadWordVectors(fileStream, FileFormat.Binary);
...
bot.Train();
</code></pre>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!--<p><a class="back-to-top" href="#top">Back to top</a><p>-->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2011-2017 <strong>Synthetic Intelligence Network</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
